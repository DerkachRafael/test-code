function Helper(){}function App(){this.init()}function TotalCompany(){this.getXHR()}function InfoSlider(){this.getXHR()}Helper.prototype.start=function(){console.log("works")},Helper.prototype.tryXHR=function(t,e,n){var i=new XMLHttpRequest;i.onreadystatechange=function(){4===i.readyState&&200===i.status&&n(i.responseText)},i.open(t,e,!0),i.send()},Handlebars.registerHelper("inc",function(t,e){return parseInt(t)+1}),Handlebars.registerHelper("math",function(t,e,n,i){return t=parseFloat(t),n=parseFloat(n),{"+":t+n,"-":t-n,"*":t*n,"/":t/n,"%":t%n}[e]}),App.prototype=Object.create(Helper.prototype),App.prototype.init=function(){new TotalCompany,new InfoSlider},window.addEventListener("DOMContentLoaded",function(){new App}),TotalCompany.prototype=Object.create(App.prototype),TotalCompany.prototype.getXHR=function(){this.tryXHR("GET","http://codeit.pro/frontTestTask/company/getList",this.resultXHR.bind(this),!0)},TotalCompany.prototype.resultXHR=function(t){var e=JSON.parse(t);console.log(e),totalStr=e.list.length,contentTotalCompany=document.querySelector(".contentTotalCompany"),listTemplate=document.querySelector("#listTemplate").innerHTML,compiledTemplate=Handlebars.compile(listTemplate),generateHTML=compiledTemplate(e),containerList=document.querySelector(".companyNameList"),containerList.innerHTML=generateHTML,contentTotalCompany.innerHTML=totalStr,this.getPartners(e)},TotalCompany.prototype.getPartners=function(t){listTemplate=document.querySelector("#partnersTemplate").innerHTML,compiledTemplate=Handlebars.compile(listTemplate),generateHTML=compiledTemplate(t),containerList=document.querySelector(".rowContentCompany"),containerList.innerHTML=generateHTML},InfoSlider.prototype=Object.create(App.prototype),InfoSlider.prototype.getXHR=function(){this.tryXHR("GET","http://codeit.pro/frontTestTask/news/getList",this.templateSlider.bind(this),!0)},InfoSlider.prototype.templateSlider=function(t){var e=JSON.parse(t),n=document.querySelector("#sliderTemplate").innerHTML,i=Handlebars.compile(n),r=i(e);containerList=document.querySelector(".carouselWrap"),containerList.innerHTML=r,this.parseUnixDate(),this.cutStr()},InfoSlider.prototype.parseUnixDate=function(){this.dateBlocks=document.querySelectorAll(".date");for(var t=0;t<this.dateBlocks.length;t++){var e,n=this.dateBlocks[t],i=+n.innerHTML,r=new Date(1e3*i),o=r.getFullYear(),s=("0"+(r.getMonth()+1)).slice(-2),a=("0"+r.getDate()).slice(-2);e=a+"-"+s+"-"+o,console.log(e),n.innerHTML="Date "+e}return n.innerHTML},InfoSlider.prototype.cutStr=function(){this.descrSlide=document.querySelectorAll(".description");for(var t=0;t<this.descrSlide.length;t++){var e=this.descrSlide[t],n=e.innerHTML,i=270;if(n.length>i){var r=n.slice(0,270);e.innerHTML=r+"..."}}return e.innerHTML};