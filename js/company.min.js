// "use strict";
function Helper(){
};
Helper.prototype.start=function(){
	console.log("works");
}

Helper.prototype.tryXHR = function(method, url, callback){
	var xmlhttp = new XMLHttpRequest();
	xmlhttp.onreadystatechange = function() {
		if (xmlhttp.readyState === 4 && xmlhttp.status === 200) {
			callback(xmlhttp.responseText);
		}
    }
    xmlhttp.open(method, url, true);
    xmlhttp.send();
};
function App(){
	this.init();
};

App.prototype = Object.create(Helper.prototype);

App.prototype.init = function(){
	new TotalCompany();
};

window.addEventListener("DOMContentLoaded", function(){
	new App();
});


function TotalCompany(){
	this.getXHR();
}

TotalCompany.prototype = Object.create(App.prototype);

TotalCompany.prototype.getXHR = function(){
	this.tryXHR("GET", "http://codeit.pro/frontTestTask/company/getList" , this.resultXHR.bind(this), true);
}
TotalCompany.prototype.resultXHR = function(obj){
	var data = JSON.parse(obj);
		console.log(data);
		totalStr = data.list.length;
		console.log(totalStr);
		contentTotalCompany = document.querySelector(".contentTotalCompany");
		contentTotalCompany.innerHTML = totalStr;
		console.log(contentTotalCompany);
}
TotalCompany.prototype.templateList = function(data){
	var list = JSON.parse(obj);
	console.log(list);
}
